<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Ver Canvas</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="/css/style.css">
</head>

<body>
    <header>
        <div class="header">
            <nav>
                <ul class="nav-list">
                    <li class="barra-pagina"><a href="/canvasDraw">Dibujar</a></li>
                    <li class="barra-pagina"><a href="/trash">Papelera</a></li>
                    <li class="barra-pagina"><a href="/allCanvas">Ver todos los Canvas</a></li>
                    <li class="barra-pagina"><a href="/login">Salir de la sesión</a></li>
                </ul>
            </nav>
        </div>
    </header>
    <h1>Seccion de Visualización de el Canvas</h1>
    <br>
    <h2>Bienvenido, [[${name}]]
    </h2>
    <br>
    <h3>Nombre de el canvas: , [[${nameCanvas}]]</h3>
    <br>
    <!--Ara utilitzam th:value per pasar el JSON a js en lloc de value com feiem en la versio anterior.-->
    <input type="hidden" id="llistaFigureJson" name="llistaFigureJson" th:value="${llistaFigureJson}" />
    <input type="hidden" id="llistaStroke" name="llistaStroke" th:value="${llistaStroke}" />

    <canvas id="lienzo" width="800" height="550"></canvas>
    <table>
        <tr>
            <th>Email</th>
            <th>Nombre</th>
            <th>Permisos</th>
        </tr>
        <tr th:each="user : ${allUsers}">
            <td th:text="${user.email}"></td>
            <td th:text="${user.getName()}"></td>
            <td>
                <div>
                    <form th:action="@{/viewCanvas/read}" method="get">
                    <!--   <input type="hidden" name="id" th:value="${canvas.idObjectes}" readonly />
                        <input type="hidden" name="user_email" th:value="${canvas.nameCanvas}" readonly />
                        --> 
                        <button type="submit" class="read">Lectura</button>
                    </form>
                    <form th:action="@{/viewCanvas/write}" method="get">
                        <!--
                        <input type="hidden" name="id" th:value="${canvas.idObjectes}" readonly />
                        <input type="hidden" name="nameCanvas" th:value="${canvas.nameCanvas}" readonly /> --> 
                        <button type="submit" class="write">Escritura</button>
                    </form>
                </div>
            </td>
        </tr>
    </table>
    <script src="js/vista.js"></script>
</body>

</html>